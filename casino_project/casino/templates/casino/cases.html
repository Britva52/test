{% extends 'casino/base.html' %}
{% load static %}

{% block content %}
<div class="cases-container">
    <div class="cases-header">
        <h1>–ö–ï–ô–°–´</h1>
    </div>

    <div class="cases-tabs">
        <button class="tab-btn active" data-tab="all">–í—Å–µ –∫–µ–π—Å—ã</button>
        <button class="tab-btn" data-tab="common">–û–±—ã—á–Ω—ã–µ</button>
        <button class="tab-btn" data-tab="rare">–†–µ–¥–∫–∏–µ</button>
        <button class="tab-btn" data-tab="epic">–≠–ø–∏—á–µ—Å–∫–∏–µ</button>
        <button class="tab-btn" data-tab="legendary">–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–µ</button>
    </div>

            <div class="cases-grid">
        {% for case in cases %}
        <div class="case-card legendary">  <!-- –ó–¥–µ—Å—å legendary –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –∏–∑ case.rarity -->
            <div class="case-glow"></div>
            <div class="case-image-container">
                {% if case.image %}
                    <img src="{{ case.image.url }}" alt="{{ case.name }}" class="case-image">
                {% else %}
                    <div class="default-case-image">üí∞</div>
                {% endif %}
                <div class="case-price">{{ case.price }}$</div>
                <div class="case-currency">{{ case.get_currency_display }}</div>
            </div>
            <div class="case-info">
                <h3>{{ case.name }}</h3>
                <div class="case-rarity legendary">{{ case.get_rarity_display }}</div>
                <button class="open-case-btn" data-case-id="{{ case.id }}">
                    –û—Ç–∫—Ä—ã—Ç—å –∑–∞ {{ case.price }}$
                </button>
            </div>
        </div>
        {% endfor %}
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
<div id="caseInfoModal" class="modal">
    <div class="modal-content legendary" id="modalContent">  <!-- –ö–ª–∞—Å—Å legendary –±—É–¥–µ—Ç –º–µ–Ω—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
        <span class="close-modal">&times;</span>
        <div class="case-modal-header">
            <h2 id="modalCaseName"></h2>
            <div class="case-modal-price" id="modalCasePrice"></div>
        </div>
        <div class="case-modal-image-container">
            <img id="modalCaseImage" src="" alt="" class="case-modal-image">
        </div>
        <div class="case-items-container" id="caseItemsContainer"></div>
        <button id="openCaseBtn" class="open-case-btn-modal">
            <span class="btn-text">–û–¢–ö–†–´–¢–¨ –ö–ï–ô–°</span>
            <span class="btn-price" id="modalBtnPrice"></span>
        </button>
    </div>
</div>

<div id="caseResultModal" class="modal">
        <div class="modal-content">
            <div class="prize-header">
                <h2>–í–´ –í–´–ò–ì–†–ê–õ–ò!</h2>
            </div>
            <div class="prize-body">
                <div class="prize-image-container">
                    <img id="prizeImage" src="" alt="" class="prize-image">
                </div>
                <div class="prize-name" id="prizeName"></div>
                <div class="prize-value" id="prizeValue"></div>
            </div>
            <div class="prize-footer">
                <div class="new-balance" id="newBalance"></div>
                <button class="continue-btn" id="continueBtn">–ü–†–û–î–û–õ–ñ–ò–¢–¨</button>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{% static 'casino/js/cases.js' %}"></script>
{% endblock %}