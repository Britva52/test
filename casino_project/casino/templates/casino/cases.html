{% extends 'casino/base.html' %}
{% load static %}

{% block content %}
<div class="cases-page">
    <div class="cases-header">
        <h1>üéÅ –ö–ï–ô–°–´</h1>
        <div class="balance-display">
            –ë–∞–ª–∞–Ω—Å: <span class="balance-amount">{{ user.balance|default:"100.00" }}$</span>
        </div>
    </div>

    <div class="cases-grid">
        {% for case in cases %}
        <div class="case-card" data-case-id="{{ case.id }}">
            <div class="case-image-container">
                {% if case.image %}
                    <img src="{{ case.image.url }}" alt="{{ case.name }}" class="case-image">
                {% else %}
                    <div class="default-case-image">üéÅ</div>
                {% endif %}
            </div>
            <div class="case-info">
                <h3 class="case-name">{{ case.name }}</h3>
                <button class="open-case-btn">
                    –û–¢–ö–†–´–¢–¨ –ó–ê {{ case.price }}$
                </button>
            </div>
        </div>
        {% endfor %}
    </div>

    <!-- –û–∫–Ω–æ –æ—Ç–∫—Ä—ã—Ç–∏—è –∫–µ–π—Å–∞ -->
    <div id="caseOpeningModal" class="modal">
        <div class="modal-overlay"></div>
        <div class="modal-container">
            <div class="modal-header">
                <h2>–û–¢–ö–†–´–¢–ò–ï –ö–ï–ô–°–ê</h2>
                <div class="case-preview">
                    <img id="openingCaseImage" src="" alt="Case">
                </div>
            </div>

            <div class="roulette-wrapper">
                <div class="roulette-container">
                    <div class="roulette-track" id="rouletteTrack"></div>
                    <div class="roulette-center"></div>
                </div>
            </div>

            <div class="modal-footer">
                <button class="spin-btn" id="spinRoulette">–ö–†–£–¢–ò–¢–¨</button>
                <div class="prize-display" id="prizeDisplay"></div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{% static 'casino/js/cases.js' %}"></script>
{% endblock %}